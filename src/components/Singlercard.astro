---
import type { any } from "astro:schema";

// En funktion der henter og viser data

export async function getStaticPaths() {
  const singler = await fetch("https://gmrqdsphowntllgdewkq.supabase.co/rest/v1/yepha_singles", {
    headers: {
      apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdtcnFkc3Bob3dudGxsZ2Rld2txIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM3Mzc0NTksImV4cCI6MjA0OTMxMzQ1OX0.HHGha3yx6RNf9AkkQsBICs0b4qpwkOQ2cSO0BOAGxQ8",
    },
  }).then((res) => res.json());

  return singler.map((single) => ({
    props: { single }, // send al data med som props
  }));
}

const { single } = Astro.props;
console.log(single); // artist.name, artist.image osv.
---

<body>
  <div class="felx-col">
    <a href="${single.link_url}">
      <div class="img">
        <img src="${singleimage_url}" alt="albumcover" />
        <h2>{single.overskrift}</h2>
        <p class="aarstal">{single.underoverskrift}</p>
      </div>
    </a>
  </div>
</body>

<style>
  img {
    max-width: 250px;
  }
  .albumcovers {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 20px;
    padding: 30px;
    color: black;
    text-decoration: none;
    font-size: 10px;
    font-family: "Inter", serif;
    font-style: normal;
    text-align: center;
  }
</style>
